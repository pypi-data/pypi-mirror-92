${structure:provider:pyams.header}
<fieldset class="border my-2"
		  data-ams-modules="plugins">
	<legend class="checker"
			data-ams-checker-mode="${view.checker_mode}"
			data-ams-checker-state="${view.checker_state}"
			data-ams-checker-fieldname="${view.checker_widget.name}"
			data-ams-checker-value="selected"
			data-ams-checker-marker="-empty-marker"
			data-ams-checker-readonly="${'true' if view.checker_widget.mode == 'display' else 'false'}"
			data-ams-data='${tales:object_data(view)}'>
		<i tal:omit-tag="" i18n:translate="">${view.legend}</i>
	</legend>
	${structure:provider:pyams.help}
	<tal:loop repeat="widget view.widgets.values()">
		<tal:if condition="widget.__name__ != view.checker_fieldname">
			${structure:provider:pyams.widget(view=widget)}
		</tal:if>
	</tal:loop>
	<tal:loop condition="view.groups | nothing"
			  repeat="group view.groups">
		${structure:group.render()}
	</tal:loop>
	<tal:loop repeat="subform view.subforms">
		${structure:subform.render()}
	</tal:loop>
	<div class="form-tabs"
		 tal:condition="view.tabforms">
		<ul class="nav nav-tabs">
			<li tal:repeat="tabform view.tabforms"
				class="nav-item" role="presentation">
				<a class="nav-link ${'active' if repeat['tabform'].start() else ''}"
				   role="tab" data-toggle="tab"
				   href="#tab_${tales:cache_key(tabform)}">
					<i tal:omit-tag="" i18n:translate="">${tabform.title}</i>
				</a>
			</li>
		</ul>
		<div class="tab-content p-2">
			<div tal:repeat="tabform view.tabforms"
				 id="tab_${tales:cache_key(tabform)}"
				 class="tab-pane fade show ${'active' if repeat['tabform'].start() else ''}">
				${structure:tabform.render()}
			</div>
		</div>
	</div>
</fieldset>
${structure:provider:pyams.footer}