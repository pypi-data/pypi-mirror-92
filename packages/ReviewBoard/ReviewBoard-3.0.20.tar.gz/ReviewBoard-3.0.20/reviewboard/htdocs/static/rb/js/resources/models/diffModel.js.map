{"version":3,"sources":["diffModel.es6.js"],"names":[],"mappings":";;AAAA;;;;;;;AAOA,GAAG,IAAH,GAAU,GAAG,YAAH,CAAgB,MAAhB,CAAuB;AAC7B,YAD6B,sBAClB;AACP,eAAO,EAAE,QAAF,CAAW;AACd,kBAAM,IADQ;AAEd,wBAAY,IAFE;AAGd,qBAAS;AAHK,SAAX,EAIJ,GAAG,YAAH,CAAgB,SAAhB,CAA0B,QAA1B,EAJI,CAAP;AAKH,KAP4B;;;AAS7B,kBAAc,MATe;;AAW7B,mBAAe;AACX,cAAM,MADK;AAEX,oBAAY;AAFD,KAXc;;AAgB7B,qBAAiB,CACb,SADa,EAEb,MAFa,EAGb,YAHa,EAIf,MAJe,CAIR,GAAG,YAAH,CAAgB,SAAhB,CAA0B,eAJlB,CAhBY;;AAsB7B,qBAAiB,CAAC,MAAD,EAAS,kBAAT,CAtBY;;AAwB7B,aAAS,OAxBoB;;AA0B7B;;;;;;;;;;;AAWA,kBArC6B,0BAqCd,GArCc,EAqCT;AAChB,YAAI,IAAI,GAAJ,CAAQ,IAAR,KAAiB,GAAG,SAAH,CAAa,mBAAlC,EAAuD;AACnD,mBAAO,oGAEH;AACI,sBAAM,IAAI,IADd;AAEI,0BAAU,IAAI;AAFlB,aAFG,EAMH,IANG,CAAP;AAOH;;AAED,eAAO,IAAI,GAAJ,CAAQ,GAAf;AACH;AAjD4B,CAAvB,CAAV","file":"diffModel.js","sourcesContent":["/**\n * A diff to be uploaded to a server.\n *\n * For now, this is used only for uploading new diffs.\n *\n * It is expected that parentObject will be set to a ReviewRequest instance.\n */\nRB.Diff = RB.BaseResource.extend({\n    defaults() {\n        return _.defaults({\n            diff: null,\n            parentDiff: null,\n            basedir: null\n        }, RB.BaseResource.prototype.defaults());\n    },\n\n    rspNamespace: 'diff',\n\n    attrToJsonMap: {\n        diff: 'path',\n        parentDiff: 'parent_diff_path'\n    },\n\n    serializedAttrs: [\n        'basedir',\n        'diff',\n        'parentDiff'\n    ].concat(RB.BaseResource.prototype.serializedAttrs),\n\n    payloadFileKeys: ['path', 'parent_diff_path'],\n\n    listKey: 'diffs',\n\n    /**\n     * Return a user-facing error string for a given server response.\n     *\n     * Args:\n     *     rsp (object):\n     *         The response from the server.\n     *\n     * Returns:\n     *     string:\n     *     A string to show to the user.\n     */\n    getErrorString(rsp) {\n        if (rsp.err.code === RB.APIErrors.REPO_FILE_NOT_FOUND) {\n            return interpolate(\n                gettext('The file \"%(file)s\" (revision %(revision)s) was not found in the repository'),\n                {\n                    file: rsp.file,\n                    revision: rsp.revision\n                },\n                true);\n        }\n\n        return rsp.err.msg;\n    }\n});\n"]}