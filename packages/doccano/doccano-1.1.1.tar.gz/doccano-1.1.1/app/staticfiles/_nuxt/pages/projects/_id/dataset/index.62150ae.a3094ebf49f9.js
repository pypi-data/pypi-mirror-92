(window.webpackJsonp=window.webpackJsonp||[]).push([[95],{1042:function(e,t,r){"use strict";r.r(t);r(10),r(7),r(6),r(3),r(8),r(72),r(218);var o=r(1),n=(r(62),r(21)),c=r(31);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m={fetch:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getDocumentList(d({projectId:e.$route.params.id},e.$route.query));case 2:case"end":return t.stop()}}),t)})))()},data:function(){return{search:this.$route.query.q,options:{},headers:[{text:this.$t("dataset.text"),align:"left",value:"text",sortable:!1},{text:this.$t("dataset.metadata"),align:"left",value:"meta",sortable:!1},{text:this.$t("dataset.action"),align:"left",value:"action",sortable:!1}]}},computed:d(d({},Object(c.e)("documents",["items","selected","loading","total"])),Object(c.c)("projects",["getLink"])),watch:{"$route.query":"$fetch",options:{handler:function(e,t){this.$router.push({query:{limit:this.options.itemsPerPage,offset:(this.options.page-1)*this.options.itemsPerPage,q:this.search}})},deep:!0},search:function(){this.$router.push({query:{limit:this.options.itemsPerPage,offset:0,q:this.search}}),this.options.page=1}},methods:d(d(d({},Object(c.b)("documents",["getDocumentList","updateDocument"])),Object(c.d)("documents",["updateSelected"])),{},{handleUpdateDocument:function(e){var data=d({projectId:this.$route.params.id},e);this.updateDocument(data)},toLabeling:function(e){var t=this.items.findIndex((function(t){return t.id===e.id})),r=(this.options.page-1)*this.options.itemsPerPage+t+1;this.$router.push({path:this.localePath("/projects/".concat(this.$route.params.id,"/").concat(this.getLink)),query:{page:r,q:this.search}})}})},f=r(15),h=r(16),v=r.n(h),y=r(134),x=r(819),O=r(812),j=r(88),D=r(854),component=Object(f.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-data-table",{attrs:{value:e.selected,headers:e.headers,items:e.items,options:e.options,"server-items-length":e.total,search:e.search,loading:e.loading,"no-data-text":e.$t("vuetify.noDataAvailable"),"footer-props":{showFirstLastPage:!0,"items-per-page-options":[10,50,100],"items-per-page-text":e.$t("vuetify.itemsPerPageText")},"item-key":"id","loading-text":e.$t("generic.loading"),"show-select":""},on:{"update:options":function(t){e.options=t},input:e.updateSelected},scopedSlots:e._u([{key:"top",fn:function(){return[r("v-text-field",{attrs:{"prepend-inner-icon":"search",label:e.$t("generic.search"),"single-line":"","hide-details":"",filled:""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})]},proxy:!0},{key:"item.text",fn:function(t){var o=t.item;return[r("v-edit-dialog",{scopedSlots:e._u([{key:"input",fn:function(){return[r("v-textarea",{attrs:{value:o.text,label:e.$t("generic.edit"),autofocus:""},on:{change:function(t){return e.handleUpdateDocument({id:o.id,text:t})}}})]},proxy:!0}],null,!0)},[r("span",{staticClass:"d-flex d-sm-none"},[e._v(e._s(e._f("truncate")(o.text,50)))]),e._v(" "),r("span",{staticClass:"d-none d-sm-flex"},[e._v(e._s(e._f("truncate")(o.text,200)))])])]}},{key:"item.action",fn:function(t){var o=t.item;return[r("v-btn",{attrs:{small:"",color:"primary text-capitalize"},on:{click:function(t){return e.toLabeling(o)}}},[e._v("\n      "+e._s(e.$t("dataset.annotate"))+"\n    ")])]}}])})}),[],!1,null,null,null),$=component.exports;v()(component,{VBtn:y.a,VDataTable:x.a,VEditDialog:O.a,VTextField:j.a,VTextarea:D.a});var _=r(989),w=(r(28),r(98)),k=r(823),F={components:{BaseCard:w.a},props:{uploadDocument:{type:Function,default:function(){},required:!0},formats:{type:Array,default:function(){return[]},required:!0}},data:function(){return{valid:!1,file:null,selectedFormat:null,fileFormatRules:k.c,uploadFileRules:k.i,showError:!1,errors:[],errorMsg:""}},computed:{acceptType:function(){return this.selectedFormat?this.selectedFormat.accept:".txt,.csv,.json,.jsonl"}},methods:{cancel:function(){this.$emit("close")},validate:function(){return this.$refs.form.validate()},reset:function(){this.$refs.form.reset()},create:function(){var e=this;if(this.validate()){this.errors=[];var t=[],r=this.$route.params.id,o=this.selectedFormat.type;this.file.forEach((function(e){t.push({projectId:r,format:o,file:e})}));var p=Promise.resolve();t.forEach((function(t){p=p.then((function(){return e.uploadDocument(t)})).catch((function(){e.errors.push(t.file.name),e.showError=!0}))})),p.finally((function(){e.errors.length?e.errorMsg=e.errors.join(", "):(e.reset(),e.cancel())}))}}}},P=r(1037),E=r(1039),V=r(845),C=r(1040),S=r(1041),R=r(60),A=Object(f.a)(F,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("base-card",{attrs:{disabled:!e.valid,title:e.$t("dataset.importDataTitle"),"agree-text":e.$t("generic.upload"),"cancel-text":e.$t("generic.cancel")},on:{agree:e.create,cancel:e.cancel},scopedSlots:e._u([{key:"content",fn:function(){return[r("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-alert",{directives:[{name:"show",rawName:"v-show",value:e.showError,expression:"showError"}],attrs:{type:"error",dismissible:""},model:{value:e.showError,callback:function(t){e.showError=t},expression:"showError"}},[e._v("\n        "+e._s(e.$t("errors.fileCannotUpload")+e.errorMsg)+"\n      ")]),e._v(" "),r("h2",[e._v(e._s(e.$t("dataset.importDataMessage1")))]),e._v(" "),r("v-radio-group",{attrs:{rules:e.fileFormatRules(e.$t("rules.fileFormatRules"))},model:{value:e.selectedFormat,callback:function(t){e.selectedFormat=t},expression:"selectedFormat"}},e._l(e.formats,(function(e,i){return r("v-radio",{key:i,attrs:{label:e.text,value:e}})})),1),e._v(" "),e.selectedFormat?r("v-sheet",{staticClass:"mb-5 pa-5",attrs:{dark:!e.$vuetify.theme.dark,light:e.$vuetify.theme.dark}},e._l(e.selectedFormat.examples,(function(t,o){return r("span",{key:o},[e._v("\n          "+e._s(t)),r("br")])})),0):e._e(),e._v(" "),r("h2",[e._v(e._s(e.$t("dataset.importDataMessage2")))]),e._v(" "),r("v-file-input",{attrs:{multiple:"",accept:e.acceptType,rules:e.uploadFileRules(e.$t("rules.uploadFileRules")),label:e.$t("labels.filePlaceholder")},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1)]},proxy:!0}])})}),[],!1,null,null,null),T=A.exports;v()(A,{VAlert:P.a,VFileInput:E.a,VForm:V.a,VRadio:C.a,VRadioGroup:S.a,VSheet:R.a});var M={components:{BaseCard:w.a},props:{exportDocument:{type:Function,default:function(){},required:!0},formats:{type:Array,default:function(){return[]},required:!0}},data:function(){return{valid:!1,file:null,selectedFormat:null,selectedFileName:"project_"+this.$route.params.id+"_dataset",onlyApproved:!1,fileFormatRules:k.c,uploadFileRules:k.i}},computed:{acceptType:function(){return this.selectedFormat?this.selectedFormat.accept:".txt,.csv,.json,.jsonl"}},methods:{cancel:function(){this.$emit("close")},validate:function(){return this.$refs.form.validate()},reset:function(){this.$refs.format.reset()},download:function(){this.validate()&&(this.exportDocument({projectId:this.$route.params.id,fileName:this.selectedFileName,format:this.selectedFormat.type,onlyApproved:this.onlyApproved,suffix:this.selectedFormat.suffix}),this.reset(),this.cancel())}}},B=r(1003),I=Object(f.a)(M,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("base-card",{attrs:{disabled:!e.valid,title:"Export Data","agree-text":"Export","cancel-text":"Cancel"},on:{agree:e.download,cancel:e.cancel},scopedSlots:e._u([{key:"content",fn:function(){return[r("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("h2",[e._v(e._s(e.$t("dataset.importDataMessage1")))]),e._v(" "),r("v-radio-group",{ref:"format",attrs:{rules:e.fileFormatRules(e.$t("rules.fileFormatRules"))},model:{value:e.selectedFormat,callback:function(t){e.selectedFormat=t},expression:"selectedFormat"}},e._l(e.formats,(function(e,i){return r("v-radio",{key:i,attrs:{label:e.text,value:e}})})),1),e._v(" "),e.selectedFormat?r("v-sheet",{staticClass:"mb-5 pa-5",attrs:{dark:!e.$vuetify.theme.dark,light:e.$vuetify.theme.dark}},e._l(e.selectedFormat.examples,(function(t,o){return r("span",{key:o},[e._v("\n          "+e._s(t)),r("br")])})),0):e._e(),e._v(" "),r("h2",[e._v(e._s(e.$t("dataset.exportDataMessage2")))]),e._v(" "),r("v-text-field",{attrs:{placeholder:"Name the file"},model:{value:e.selectedFileName,callback:function(t){e.selectedFileName=t},expression:"selectedFileName"}}),e._v(" "),r("v-checkbox",{attrs:{label:"Export only approved documents",color:"success","hide-details":""},model:{value:e.onlyApproved,callback:function(t){e.onlyApproved=t},expression:"onlyApproved"}})],1)]},proxy:!0}])})}),[],!1,null,null,null),L=I.exports;function N(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function U(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?N(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):N(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}v()(I,{VCheckbox:B.a,VForm:V.a,VRadio:C.a,VRadioGroup:S.a,VSheet:R.a,VTextField:j.a});var z={components:{ActionMenu:_.a,DocumentUploadForm:T,DocumentExportForm:L},data:function(){return{importDialog:!1,exportDialog:!1,menuItems:[{title:this.$t("dataset.importDataset"),icon:"mdi-upload",event:"upload"},{title:this.$t("dataset.exportDataset"),icon:"mdi-download",event:"download"}]}},computed:U({},Object(c.c)("projects",["getImportFormat","getExportFormat"])),created:function(){this.setCurrentProject(this.$route.params.id)},methods:U(U({},Object(c.b)("documents",["uploadDocument","exportDocument"])),Object(c.b)("projects",["setCurrentProject"]))},G=r(810),J=Object(f.a)(z,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("action-menu",{attrs:{items:e.menuItems,text:e.$t("dataset.actions")},on:{upload:function(t){e.importDialog=!0},download:function(t){e.exportDialog=!0}}}),e._v(" "),r("v-dialog",{attrs:{width:"800"},model:{value:e.importDialog,callback:function(t){e.importDialog=t},expression:"importDialog"}},[r("document-upload-form",{attrs:{"upload-document":e.uploadDocument,formats:e.getImportFormat},on:{close:function(t){e.importDialog=!1}}})],1),e._v(" "),r("v-dialog",{attrs:{width:"800"},model:{value:e.exportDialog,callback:function(t){e.exportDialog=t},expression:"exportDialog"}},[r("document-export-form",{attrs:{"export-document":e.exportDocument,formats:e.getExportFormat},on:{close:function(t){e.exportDialog=!1}}})],1)],1)}),[],!1,null,null,null),H=J.exports;v()(J,{VDialog:G.a});var K=r(217);function Q(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function W(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?Q(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):Q(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var X={components:{ConfirmForm:K.a},data:function(){return{dialog:!1}},computed:W(W({},Object(c.e)("documents",["selected"])),Object(c.c)("documents",["isDocumentSelected"])),methods:W(W({},Object(c.b)("documents",["deleteDocument"])),{},{handleDeleteDocument:function(){var e=this.$route.params.id;this.deleteDocument(e)}})},Y=Object(f.a)(X,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-btn",{staticClass:"text-capitalize",attrs:{disabled:!e.isDocumentSelected,outlined:""},on:{click:function(t){e.dialog=!0}}},[e._v("\n    "+e._s(e.$t("generic.delete"))+"\n  ")]),e._v(" "),r("v-dialog",{attrs:{width:"800"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("confirm-form",{attrs:{items:e.selected,title:e.$t("dataset.deleteDocumentsTitle"),message:e.$t("dataset.deleteDocumentsMessage"),"button-true-text":e.$t("generic.yes"),"button-false-text":e.$t("generic.cancel"),"item-key":"text"},on:{ok:function(t){e.deleteDocument(e.$route.params.id),e.dialog=!1},cancel:function(t){e.dialog=!1}}})],1)],1)}),[],!1,null,null,null),Z=Y.exports;v()(Y,{VBtn:y.a,VDialog:G.a});function ee(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function te(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ee(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):ee(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var re={components:{ConfirmForm:K.a},data:function(){return{dialog:!1}},computed:te({},Object(c.e)("documents",["total"])),methods:te({},Object(c.b)("documents",["deleteAllDocuments"]))},oe=Object(f.a)(re,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-btn",{staticClass:"text-capitalize",attrs:{disabled:!e.total,color:"error"},on:{click:function(t){e.dialog=!0}}},[e._v("\n    "+e._s(e.$t("generic.deleteAll"))+"\n  ")]),e._v(" "),r("v-dialog",{attrs:{width:"800"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("confirm-form",{attrs:{title:e.$t("dataset.deleteBulkDocumentsTitle"),message:e.$t("dataset.deleteBulkDocumentsMessage"),"button-true-text":e.$t("generic.yes"),"button-false-text":e.$t("generic.cancel")},on:{ok:function(t){e.deleteAllDocuments(e.$route.params.id),e.dialog=!1},cancel:function(t){e.dialog=!1}}})],1)],1)}),[],!1,null,null,null),ae=oe.exports;v()(oe,{VBtn:y.a,VDialog:G.a});var ne={layout:"project",components:{DocumentList:$,DocumentActionMenu:H,DocumentDeletionButton:Z,DocumentBulkDeletionButton:ae},validate:function(e){var t=e.params,r=e.query;return/^\d+$/.test(t.id)&&/^\d+|$/.test(r.limit)&&/^\d+|$/.test(r.offset)}},ie=r(200),se=r(122),ce=r(809),le=Object(f.a)(ne,(function(){var e=this.$createElement,t=this._self._c||e;return t("v-card",[t("v-card-title",{staticClass:"mb-2"},[t("document-action-menu"),this._v(" "),t("document-deletion-button",{staticClass:"ms-2"}),this._v(" "),t("v-spacer"),this._v(" "),t("document-bulk-deletion-button")],1),this._v(" "),t("document-list")],1)}),[],!1,null,null,null);t.default=le.exports;v()(le,{VCard:ie.a,VCardTitle:se.c,VSpacer:ce.a})}}]);