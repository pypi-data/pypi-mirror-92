{"version":3,"sources":["services/ezbeq.js","components/Header.js","beqc.png","services/util.js","components/Footer.js","components/Catalogue.js","components/Devices.js","components/MultiSelect.js","components/Filter.js","App.js","components/valueState.js","index.js"],"names":["API_PREFIX","getAuthors","doGet","getYears","getAudioTypes","getMeta","getVersion","payload","a","fetch","method","response","ok","Error","status","json","appendTo","url","name","values","length","indexOf","join","search","authors","years","audioTypes","searchUrl","load","sendFilter","id","slot","body","JSON","stringify","headers","clearSlot","activateSlot","command","getMinidspConfig","useStyles","makeStyles","theme","noLeftTop","marginLeft","marginTop","title","flexGrow","spacing","position","borderRadius","shape","backgroundColor","fade","palette","common","white","width","breakpoints","up","searchIcon","padding","height","pointerEvents","display","alignItems","justifyContent","inputRoot","color","inputInput","paddingLeft","transition","transitions","create","smallAvatar","advancedFilter","marginRight","Header","txtFilter","handleTxtFilterChange","showFilters","toggleShowFilters","classes","AppBar","className","Toolbar","Avatar","alt","variant","src","Typography","noWrap","InputBase","placeholder","root","input","inputProps","value","onChange","size","FormControlLabel","control","Switch","checked","pushData","setter","getter","data","noLeft","Footer","useState","meta","setMeta","version","setVersion","padZero","n","toString","padStart","useEffect","ezbeq","Grid","container","justify","item","s","d","Date","setUTCSeconds","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","formatSeconds","created","Catalogue","entries","setSelectedEntryId","catalogueGridColumns","field","headerName","flex","renderCell","params","row","href","target","style","window","innerHeight","rows","columns","pageSize","density","sortModel","sort","onRowSelected","p","progress","Action","slotId","onClick","label","Icon","active","disabled","currentState","match","find","action","state","getCurrentState","CircularProgress","IconButton","aria-label","edge","Devices","selectedEntryId","slots","setSlots","pending","setPending","trackDeviceUpdate","valProvider","u","concat","vals","filter","console","error","map","minidspGridColumns","valueFormatter","getValue","entryId","PublishIcon","PlayArrowIcon","ClearIcon","hide","direction","autoPageSize","hideFooter","MultiSelect","items","selectedValues","noOptionsText","limitTags","onToggleOption","onCreateOption","onClearOptions","getOptionLabel","o","isInView","v","Autocomplete","multiple","disableCloseOnSelect","freeSolo","selectOnFocus","handleHomeEndKeys","options","event","reason","log","renderOption","option","selected","Checkbox","icon","fontSize","checkedIcon","textDecoration","renderInput","TextField","defaultProps","Filter","visible","selectedAudioTypes","setSelectedAudioTypes","selectedYears","setSelectedYears","selectedAuthors","setSelectedAuthors","filteredEntries","setAuthors","setYears","setAudioTypes","filteredYears","setFilteredYears","filteredAudioTypes","setFilteredAudioTypes","Set","e","year","flat","matches","y","some","addSelectedYears","at","toLowerCase","addSelectedAudioTypes","margin","App","prefersDarkMode","useMediaQuery","React","useMemo","createMuiTheme","type","setEntries","setFilteredEntries","startingValue","setValue","useValueChange","setShowFilters","isMatch","entry","author","includes","ThemeProvider","CssBaseline","prev","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7df9fd4e.chunk.js","sourcesContent":["const API_PREFIX = '/api/1';\n\n/**\n * Encapsulates any calls to the ezbeq server.\n */\nclass EzBeqService {\n\n    getAuthors = () => {\n        return this.doGet('authors');\n    };\n\n    getYears = () => {\n        return this.doGet('years');\n    };\n\n    getAudioTypes = () => {\n        return this.doGet('audiotypes');\n    };\n\n    getMeta = () => {\n        return this.doGet('meta');\n    }\n\n    getVersion = () => {\n        return this.doGet('version');\n    }\n\n    doGet = async (payload) => {\n        const response = await fetch(`${API_PREFIX}/${payload}`, {\n            method: 'GET'\n        });\n        if (!response.ok) {\n            throw new Error(`EzBeq.get${payload} failed, HTTP status ${response.status}`);\n        }\n        return await response.json();\n    }\n\n    appendTo = (url, name, values) => {\n        if (values && values.length > 0) {\n            return `${url}${url.indexOf('?') === -1 ? '?' : '&'}${name}=${values.join(',')}`;\n        }\n        return url;\n    }\n\n    search = async (authors = null, years = null, audioTypes = null) => {\n        const searchUrl = this.appendTo(this.appendTo(this.appendTo(`${API_PREFIX}/search`, 'authors', authors), 'years', years), 'audioTypes', audioTypes);\n        const response = await fetch(searchUrl, {\n            method: 'GET'\n        });\n        if (!response.ok) {\n            throw new Error(`EzBeq.search failed, HTTP status ${response.status}`);\n        }\n        return await response.json();\n    }\n\n    load = async () => {\n        return this.search();\n    }\n\n    sendFilter = async (id, slot) => {\n        const response = await fetch(`${API_PREFIX}/minidsp/${slot}`, {\n            method: 'PUT',\n            body: JSON.stringify({\n                id: id\n            }),\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n        });\n        if (!response.ok) {\n            throw new Error(`EzBeq.sendFilter failed, HTTP status ${response.status}`);\n        }\n        return await response.json();\n    }\n\n    clearSlot = async (slot) => {\n        const response = await fetch(`${API_PREFIX}/minidsp/${slot}`, {\n            method: 'DELETE'\n        });\n        if (!response.ok) {\n            throw new Error(`EzBeq.clearSlot failed, HTTP status ${response.status}`);\n        }\n        return await response.json();\n    }\n\n    activateSlot = async (slot) => {\n        const response = await fetch(`${API_PREFIX}/minidsp/${slot}`, {\n            method: 'PUT',\n            body: JSON.stringify({\n                command: 'activate'\n            }),\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n        });\n        if (!response.ok) {\n            throw new Error(`EzBeq.activateSlot failed, HTTP status ${response.status}`);\n        }\n        return await response.json();\n    }\n\n    getMinidspConfig = async () => {\n        return this.doGet('minidsps');\n    }\n}\n\nexport default new EzBeqService();\n","import AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport {Avatar, FormControlLabel, InputBase, Switch} from \"@material-ui/core\";\nimport beqcIcon from \"../beqc.png\";\nimport Typography from \"@material-ui/core/Typography\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport React from \"react\";\nimport {fade, makeStyles} from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n    noLeftTop: {\n        marginLeft: '0px',\n        marginTop: '0px'\n    },\n    title: {\n        flexGrow: 1,\n        marginLeft: theme.spacing(1)\n    },\n    search: {\n        position: 'relative',\n        borderRadius: theme.shape.borderRadius,\n        backgroundColor: fade(theme.palette.common.white, 0.15),\n        '&:hover': {\n            backgroundColor: fade(theme.palette.common.white, 0.25),\n        },\n        marginLeft: 0,\n        width: '50%',\n        [theme.breakpoints.up('sm')]: {\n            marginLeft: theme.spacing(1),\n            width: 'auto',\n        },\n    },\n    searchIcon: {\n        padding: theme.spacing(0, 2),\n        height: '100%',\n        position: 'absolute',\n        pointerEvents: 'none',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    inputRoot: {\n        color: 'inherit',\n    },\n    inputInput: {\n        padding: theme.spacing(1, 1, 1, 0),\n        // vertical padding + font size from searchIcon\n        paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n        transition: theme.transitions.create('width'),\n        width: '100%',\n        [theme.breakpoints.up('sm')]: {\n            width: '12ch',\n            '&:focus': {\n                width: '20ch',\n            },\n        },\n    },\n    smallAvatar: {\n        width: theme.spacing(3),\n        height: theme.spacing(3),\n    },\n    advancedFilter: {\n        marginLeft: '4px',\n        marginRight: '0px'\n    }\n}));\n\nconst Header = ({txtFilter, handleTxtFilterChange, showFilters, toggleShowFilters}) => {\n    const classes = useStyles();\n    return (\n        <AppBar position=\"static\" className={classes.noLeftTop}>\n            <Toolbar>\n                <Avatar alt=\"beqcatalogue\"\n                        variant=\"rounded\"\n                        src={beqcIcon}\n                        className={classes.smallAvatar}/>\n                <Typography className={classes.title} variant=\"h6\" noWrap>ezbeq</Typography>\n                <div className={classes.search}>\n                    <div className={classes.searchIcon}>\n                        <SearchIcon/>\n                    </div>\n                    <InputBase\n                        placeholder=\"Searchâ€¦\"\n                        classes={{\n                            root: classes.inputRoot,\n                            input: classes.inputInput,\n                        }}\n                        inputProps={{'aria-label': 'search'}}\n                        value={txtFilter}\n                        onChange={handleTxtFilterChange}\n                        size={'small'}\n                    />\n                </div>\n                <FormControlLabel className={classes.advancedFilter}\n                                  control={\n                                      <Switch checked={showFilters} onChange={toggleShowFilters} size={'small'}/>\n                                  }/>\n            </Toolbar>\n        </AppBar>\n    );\n};\n\nexport default Header;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAHmUExURRUoRhsuTgQUKAIGEwcTJwkUKDhCUgAAABUnRRcqSxMnRAoVKhcoRRYpSQUNHBEeNCIRIgcSJBIkRBwoPRQoRwsVJwEGKRgrTBIfPa8ABf+gLFw5JhUiOK7XAP+lKwwaMQIDBsUDAxEkRgoiSPudLE5pEz6uyM8DAwYKGmeCCwUIDRAiQRgkORxjihcpRwwlQwMQIDosXf+rLJZq2QsfODUQHx0uQd4CAAsaJxxWa0C0ztICAj9UGbQABEO61LjjACAlLiYsNxYmISUzVlULGEZiFbsCBAEWKgsZLLXfAC0pTAEOKAoqSlU6KL3pAC80P8w0c8h3Lh0SJBpJYE01KE45Kb1yLl5GKWd9A22HBi5BGz9PaotaKj1LY0dUax8yUSUwQyAoScgCAmomT8IzcLstZNg3eVtDjY1lzSdifxQTJXVMpjqivBdAVJ8GCseAMsuDMismKcEDBGILFyp1jC4RIXORC9kDAowDDJi8AjYrKOQDAYEIER1okNOFLKDIAt6QKxceKZZmKrlvLjFBXzBBX1ENGqgxaSQeNUIfN4soVyVeeoFev5gtYLAsYmRMmVkaMDo5Qp5x4wYRKjwgOWVQPgwrPG5JnlhHP1I8MxxWgFduG7huLhE2U5ZiOjhVLcJ0LjyqxOcUrVYAAAJzSURBVDjLhdP3V9pQFAfwEPNqyECCIEsQmYIaREBExAoiInXvvbd111FX1e699/pXe2MYaj3t94d7cl8+eUlOcrHc/wQTiqv9xjVpN6VBZOzhuOSvjD8YqxdBZFhRqqAoiqTcbjeVCSwO1wvANVqK8RiGMcrJZDIpHKXCk4pRE4BIg0JcZR53zHRMu7OEVzTUA5hQk+enqcmZuY65Z01sdg9SPQGgSkqmLng5+2p2uqJImQXSKgD5KcBQDR6PJ4/jsoKU5l8ApPSFd8E7L6Oz4hJQUpIFr/fdaxmNQEhZlr26A4bNL39e9lTQCIQGQqZAWRoouoPB4CcOIUQkgouLzyUkKS27AEj17Rp73Z0SGtGylRq7vaZbw14GEhEkqqtlK3V2e103IYLC9C3Ib0flRz8LhPjKIT6uSH0JmL8PDgwODe0M7tiiA07nQPQ95ysEkCcC3lx1r9nQ5nS2GZrv1jYbDDdrC1RIlQI8z/DKawAtEwFjtpjNFstvW6MtGoUyhDfabI3VBJECjOXt2vr6Wvuvzvudra1QRjZ+9PX1beAoAz4arTpj/4nRWnl2Vmk1nvQbddbK/luqDPiis+p0vccARkYAHPfqYKE3A+Ahv+r1Pfi+vlV/egplH++BHj5KeoeWD2GtVru9F9bGY7G4Nry3DW3Yj4s7JNRMy5uAIxSIxXcdB4eHB47deCwQcgQeNanoEgAyAE+niouL/auOzdDWVmjTseqHdsrfhBIuYS4YllQ+kcu78CW5XI4QlCW8S+gJxJ0PTg4PwofjCIcQhFBVQoEfwySOnkvDs2oNfTWowpQe3twcDt4o50pM2en+V/4ADiuBy0gwQ9YAAABXelRYdFJhdyBwcm9maWxlIHR5cGUgaXB0YwAAeJzj8gwIcVYoKMpPy8xJ5VIAAyMLLmMLEyMTS5MUAxMgRIA0w2QDI7NUIMvY1MjEzMQcxAfLgEigSi4A6hcRdPJCNZUAAAAASUVORK5CYII=\"","const pushData = async (setter, getter) => {\n    const data = await getter();\n    setter(data);\n};\n\nexport {\n    pushData\n};","import React, {useEffect, useState} from \"react\";\nimport ezbeq from \"../services/ezbeq\";\nimport {pushData} from \"../services/util\";\nimport {Grid} from \"@material-ui/core\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {makeStyles} from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) => ({\n    noLeft: {\n        marginLeft: '0px'\n    }\n}));\n\nconst Footer = () => {\n    const classes = useStyles();\n    const [meta, setMeta] = useState({});\n    const [version, setVersion] = useState({});\n\n    const padZero = n => n.toString().padStart(2, '0');\n    const formatSeconds = s => {\n        if (s) {\n            const d = new Date(0);\n            d.setUTCSeconds(s);\n            return `${d.getFullYear()}${padZero(d.getMonth() + 1)}${padZero(d.getDate())}_${padZero(d.getHours())}${padZero(d.getMinutes())}${padZero(d.getSeconds())}`\n        }\n        return '?';\n    }\n\n    useEffect(() => {\n        pushData(setMeta, ezbeq.getMeta);\n    }, []);\n\n    useEffect(() => {\n        pushData(setVersion, ezbeq.getVersion);\n    }, []);\n\n    if (meta || version) {\n        return (\n            <Grid container justify=\"space-around\" className={classes.noLeft}>\n                <Grid item>\n                    <Typography variant={'caption'} color={'textSecondary'}>\n                        {meta ? `BEQCatalogue: ${formatSeconds(meta.created)}` : ''}\n                    </Typography>\n                </Grid>\n                <Grid item>\n                    <Typography variant={'caption'} color={'textSecondary'}>\n                        {version.version !== 'UNKNOWN' ? `v${version.version}` : version.version}\n                    </Typography>\n                </Grid>\n            </Grid>\n        );\n    } else {\n        return null;\n    }\n}\n\nexport default Footer;","import {makeStyles} from \"@material-ui/core/styles\";\nimport React from \"react\";\nimport {Grid} from \"@material-ui/core\";\nimport {DataGrid} from \"@material-ui/data-grid\";\n\nconst useStyles = makeStyles((theme) => ({\n    noLeft: {\n        marginLeft: '0px'\n    }\n}));\n\nconst Catalogue = ({entries, setSelectedEntryId}) => {\n    const classes = useStyles();\n    const catalogueGridColumns = [\n        {\n            field: 'title',\n            headerName: 'Title',\n            flex: 0.6,\n            renderCell: params => (\n                params.row.url\n                    ? <a href={params.row.url} target='_beq'>{params.value}</a>\n                    : params.value\n            )\n        },\n        {\n            field: 'audioTypes',\n            headerName: 'Audio Type',\n            flex: 0.4\n        }\n    ];\n    if (entries.length > 0) {\n        return (\n            <Grid container className={classes.noLeft}>\n                <Grid item style={{height: `${window.innerHeight - 306}px`, width: '100%'}}>\n                    <DataGrid rows={entries}\n                              columns={catalogueGridColumns}\n                              pageSize={100}\n                              density={'compact'}\n                              sortModel={[\n                                  {\n                                      field: 'title',\n                                      sort: 'asc',\n                                  },\n                              ]}\n                              onRowSelected={p => setSelectedEntryId(p.data.id)}\n                    />\n                </Grid>\n            </Grid>\n        );\n    } else {\n        return null;\n    }\n};\n\nexport default Catalogue;","import {CircularProgress, Grid, IconButton} from \"@material-ui/core\";\nimport {DataGrid} from \"@material-ui/data-grid\";\nimport React, {useEffect, useState} from \"react\";\nimport {makeStyles} from \"@material-ui/core/styles\";\nimport PublishIcon from '@material-ui/icons/Publish';\nimport PlayArrowIcon from \"@material-ui/icons/PlayArrow\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport ezbeq from \"../services/ezbeq\";\nimport {pushData} from \"../services/util\";\n\nconst useStyles = makeStyles((theme) => ({\n    noLeft: {\n        marginLeft: '0px'\n    },\n    progress: {\n        marginTop: '12px',\n        marginRight: '12px'\n    }\n}));\n\nconst getCurrentState = (active, label, slotId) => {\n    const match = active.find(a => a.slotId === slotId && a.action === label);\n    return match ? match.state : -1;\n};\n\nconst Action = ({slotId, onClick, label, Icon, active, disabled = false}) => {\n    const classes = useStyles();\n    const currentState = getCurrentState(active, label, slotId);\n    return (\n        <div>\n        {\n            currentState === 1\n            ? <CircularProgress size={24} className={classes.progress}/>\n            : <IconButton aria-label={label}\n                          onClick={onClick}\n                          color={currentState === 2 ? 'error' : 'primary'}\n                          edge={'start'}\n                          disabled={disabled}>\n                <Icon/>\n            </IconButton>\n        }\n        </div>\n    )\n}\n\nconst Devices = ({selectedEntryId}) => {\n    const classes = useStyles();\n\n    const [slots, setSlots] = useState([]);\n    const [pending, setPending] = useState([]);\n\n    useEffect(() => {\n        pushData(setSlots, ezbeq.getMinidspConfig);\n    }, []);\n\n    const trackDeviceUpdate = async (action, slotId, valProvider) => {\n        setPending(u => [{slotId, action, state: 1}].concat(u));\n        try {\n            const vals = await valProvider();\n            setPending(u => u.filter(p => !(p.slotId === slotId && p.action === action)));\n            setSlots(vals);\n        } catch (e) {\n            console.error(e);\n            setPending(u => u.map(p => {\n                if (p.slotId === slotId && p.action === action) {\n                    return {slotId, action, state: 2};\n                } else {\n                    return p;\n                }\n            }));\n        }\n    };\n\n    const sendToDevice = (entryId, slotId) => {\n        trackDeviceUpdate('send', slotId, () => ezbeq.sendFilter(entryId, slotId))\n    };\n\n    const clearDeviceSlot = (slotId) => {\n        trackDeviceUpdate('clear', slotId, () => ezbeq.clearSlot(slotId));\n    };\n\n    const activateSlot = (slotId) => {\n        trackDeviceUpdate('activate', slotId, () => ezbeq.activateSlot(slotId));\n    };\n\n    // grid definitions\n    const minidspGridColumns = [\n        {\n            field: 'id',\n            headerName: ' ',\n            width: 25,\n            valueFormatter: params => `${params.value + 1}${params.getValue('active') ? '*' : ''}`\n        },\n        {\n            field: 'actions',\n            headerName: 'Actions',\n            width: 120,\n            renderCell: params => (\n                <>\n                    <Action slotId={params.row.id}\n                            disabled={selectedEntryId === -1}\n                            onClick={() => sendToDevice(selectedEntryId, params.row.id)}\n                            label={'send'}\n                            Icon={PublishIcon}\n                            active={pending}/>\n                    <Action slotId={params.row.id}\n                            onClick={() => activateSlot(params.row.id)}\n                            label={'activate'}\n                            Icon={PlayArrowIcon}\n                            active={pending}/>\n                    <Action slotId={params.row.id}\n                            onClick={() => clearDeviceSlot(params.row.id)}\n                            label={'clear'}\n                            Icon={ClearIcon}\n                            active={pending}/>\n                </>\n            ),\n        },\n        {\n            field: 'last',\n            headerName: 'Loaded',\n            flex: 0.45,\n        },\n        {\n            field: 'active',\n            headerName: 'Active',\n            hide: true\n        }\n    ];\n\n    return (\n        <Grid container direction={'column'} className={classes.noLeft}>\n            <Grid item style={{height: '190px', width: '100%'}}>\n                <DataGrid rows={slots}\n                          columns={minidspGridColumns}\n                          autoPageSize\n                          hideFooter\n                          density={'compact'}/>\n            </Grid>\n        </Grid>\n\n    );\n}\n\nexport default Devices;","import React from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport CheckBoxOutlineBlankIcon from \"@material-ui/icons/CheckBoxOutlineBlank\";\nimport CheckBoxIcon from \"@material-ui/icons/CheckBox\";\nimport {Checkbox} from \"@material-ui/core\";\n\nconst MultiSelect = ({\n                         items,\n                         selectedValues,\n                         label,\n                         placeholder = '',\n                         noOptionsText,\n                         limitTags,\n                         onToggleOption,\n                         onCreateOption,\n                         onClearOptions,\n                         getOptionLabel = o => o,\n                         isInView = v => true\n                     }) => {\n    const handleChange = (event, value, reason) => {\n        if (reason === \"select-option\" || reason === \"remove-option\") {\n            onToggleOption && onToggleOption(value);\n        } else if (reason === \"clear\") {\n            onClearOptions && onClearOptions();\n        } else if (reason === 'create-option') {\n            onCreateOption && onCreateOption(value);\n        } else {\n            console.log(`Event: ${event} Value: ${value} Reason: ${reason}`);\n        }\n    };\n    const getOptionStyle = o => {\n        return {\n            textDecoration: isInView(o) ? 'none' : 'line-through'\n        };\n    };\n\n    const optionRenderer = (option, {selected}) => {\n        return (\n            <>\n                <Checkbox\n                    color=\"primary\"\n                    icon={<CheckBoxOutlineBlankIcon fontSize=\"small\"/>}\n                    checkedIcon={<CheckBoxIcon fontSize=\"small\"/>}\n                    style={{marginRight: 8}}\n                    checked={selected}\n                />\n                <div style={getOptionStyle(option)}>{getOptionLabel(option)}</div>\n            </>\n        );\n    };\n    const inputRenderer = params => (\n        <TextField {...params} label={label} placeholder={placeholder}/>\n    );\n    return (\n        <Autocomplete\n            multiple\n            size=\"small\"\n            disableCloseOnSelect\n            freeSolo={(typeof onClearOptions !== 'undefined')}\n            selectOnFocus\n            handleHomeEndKeys\n            limitTags={limitTags}\n            options={items}\n            value={selectedValues}\n            noOptionsText={noOptionsText}\n            onChange={handleChange}\n            renderOption={optionRenderer}\n            renderInput={inputRenderer}\n            getOptionLabel={getOptionLabel}\n        />\n    );\n};\n\nMultiSelect.defaultProps = {\n    limitTags: 5,\n    items: [],\n    selectedValues: []\n};\n\nexport default MultiSelect;\n","import MultiSelect from \"./MultiSelect\";\nimport React, {useEffect, useState} from \"react\";\nimport {pushData} from \"../services/util\";\nimport ezbeq from \"../services/ezbeq\";\n\nconst Filter = ({\n                    visible,\n                    selectedAudioTypes,\n                    setSelectedAudioTypes,\n                    selectedYears,\n                    setSelectedYears,\n                    selectedAuthors,\n                    setSelectedAuthors,\n                    filteredEntries\n                }) => {\n\n    const [authors, setAuthors] = useState([]);\n    const [years, setYears] = useState([]);\n    const [audioTypes, setAudioTypes] = useState([]);\n    const [filteredYears, setFilteredYears] = useState([]);\n    const [filteredAudioTypes, setFilteredAudioTypes] = useState([]);\n\n    useEffect(() => {\n        pushData(setAuthors, ezbeq.getAuthors);\n    }, []);\n\n    useEffect(() => {\n        pushData(setYears, ezbeq.getYears);\n    }, []);\n\n    useEffect(() => {\n        pushData(setAudioTypes, ezbeq.getAudioTypes);\n    }, []);\n\n    useEffect(() => {\n        pushData(setFilteredYears, () => [...new Set(filteredEntries.map(e => e.year))]);\n        pushData(setFilteredAudioTypes, () => [...new Set(filteredEntries.map(e => e.audioTypes).flat())]);\n    }, [filteredEntries]);\n\n    const addSelectedAudioTypes = values => {\n        const matches = audioTypes.filter(at => values.some(v => v === at || at.toLowerCase().indexOf(v.toLowerCase()) > -1));\n        setSelectedAudioTypes(matches);\n    };\n\n    const addSelectedYears = values => {\n        const matches = years.filter(y => values.some(v => v === y || `${y}`.indexOf(v) > -1));\n        setSelectedYears(matches);\n    };\n\n    if (visible) {\n        return (\n            <>\n                <MultiSelect items={authors}\n                             selectedValues={selectedAuthors}\n                             label=\"Author\"\n                             onToggleOption={selected => setSelectedAuthors(selected)}\n                             onClearOptions={() => setSelectedAuthors([])}/>\n                <MultiSelect items={years}\n                             selectedValues={selectedYears}\n                             label=\"Year\"\n                             onToggleOption={selected => setSelectedYears(selected)}\n                             onCreateOption={value => addSelectedYears(value)}\n                             onClearOptions={() => setSelectedYears([])}\n                             getOptionLabel={o => `${o}`}\n                             isInView={v => filteredYears.length === 0 || filteredYears.indexOf(v) > -1}/>\n                <MultiSelect items={audioTypes}\n                             selectedValues={selectedAudioTypes}\n                             label=\"Audio Types\"\n                             onToggleOption={selected => setSelectedAudioTypes(selected)}\n                             onCreateOption={value => addSelectedAudioTypes(value)}\n                             onClearOptions={() => setSelectedAudioTypes([])}\n                             isInView={v => filteredAudioTypes.length === 0 || filteredAudioTypes.indexOf(v) > -1}/>\n            </>\n        )\n    } else {\n        return null;\n    }\n};\n\nexport default Filter;","import React, {useEffect, useState} from 'react';\nimport {useValueChange} from \"./components/valueState\";\nimport {createMuiTheme, makeStyles, ThemeProvider} from '@material-ui/core/styles';\nimport ezbeq from './services/ezbeq';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Header from \"./components/Header\";\nimport {pushData} from \"./services/util\";\nimport Footer from \"./components/Footer\";\nimport Catalogue from \"./components/Catalogue\";\nimport Devices from \"./components/Devices\";\nimport Filter from \"./components/Filter\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        flexGrow: 1,\n        width: '100wh',\n        height: '100vh',\n        '& > *': {\n            margin: theme.spacing(1),\n        }\n    },\n    noLeft: {\n        marginLeft: '0px'\n    },\n    noLeftTop: {\n        marginLeft: '0px',\n        marginTop: '0px'\n    },\n    title: {\n        flexGrow: 1,\n        marginLeft: theme.spacing(1)\n    }\n}));\n\nconst App = () => {\n    const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\n    const theme = React.useMemo(\n        () =>\n            createMuiTheme({\n                palette: {\n                    type: prefersDarkMode ? 'dark' : 'light',\n                },\n            }),\n        [prefersDarkMode],\n    );\n\n    const classes = useStyles();\n    // catalogue data\n    const [entries, setEntries] = useState([]);\n    const [filteredEntries, setFilteredEntries] = useState([]);\n    // user selections\n    const [selectedAuthors, setSelectedAuthors] = useState([]);\n    const [selectedYears, setSelectedYears] = useState([]);\n    const [selectedAudioTypes, setSelectedAudioTypes] = useState([]);\n    const [txtFilter, handleTxtFilterChange] = useValueChange('');\n    const [showFilters, setShowFilters] = useState(false);\n    const [selectedEntryId, setSelectedEntryId] = useState(-1);\n\n    const toggleShowFilters = () => {\n        setShowFilters((prev) => !prev);\n    };\n\n    // initial data load\n    useEffect(() => {\n        pushData(setEntries, ezbeq.load);\n    }, []);\n\n    useEffect(() => {\n        // catalogue filter\n        const isMatch = (entry) => {\n            if (!selectedAuthors.length || selectedAuthors.indexOf(entry.author) > -1) {\n                if (!selectedYears.length || selectedYears.indexOf(entry.year) > -1) {\n                    if (!selectedAudioTypes.length || entry.audioTypes.some(at => selectedAudioTypes.indexOf(at) > -1)) {\n                        if (!txtFilter || entry.title.toLowerCase().includes(txtFilter.toLowerCase())) {\n                            return true;\n                        }\n                    }\n                }\n            }\n            return false;\n        }\n        pushData(setFilteredEntries, () => entries.filter(isMatch));\n    }, [entries, selectedAudioTypes, selectedYears, selectedAuthors, txtFilter]);\n\n    return (\n        <ThemeProvider theme={theme}>\n            <CssBaseline/>\n            <div className={classes.root}>\n                <Header txtFilter={txtFilter}\n                        handleTxtFilterChange={handleTxtFilterChange}\n                        showFilters={showFilters}\n                        toggleShowFilters={toggleShowFilters}/>\n                <Filter visible={showFilters}\n                        selectedAudioTypes={selectedAudioTypes}\n                        setSelectedAudioTypes={setSelectedAudioTypes}\n                        selectedYears={selectedYears}\n                        setSelectedYears={setSelectedYears}\n                        selectedAuthors={selectedAuthors}\n                        setSelectedAuthors={setSelectedAuthors}\n                        filteredEntries={filteredEntries}/>\n                <Devices selectedEntryId={selectedEntryId}/>\n                <Catalogue entries={filteredEntries}\n                           setSelectedEntryId={setSelectedEntryId}/>\n                <Footer/>\n            </div>\n        </ThemeProvider>\n    );\n};\n\nexport default App;","import {useState} from 'react'\n\nexport const useValueChange = (startingValue = null) => {\n    const [value, setValue] = useState(startingValue !== null ? startingValue : []);\n\n    const handleChange = (event) => {\n        setValue(event.target.value);\n    };\n\n    return [value, handleChange];\n};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport '@fontsource/roboto'\nimport App from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App/>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}